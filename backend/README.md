# Backend
后端

## 功能

### 普通用户
1. 图片管理功能：上传、删除、修改标定数据、查询
2. 用户管理功能：登录、查询、删除
3. 图片分类功能：选择一副图片和某一个模型，识别图片数字内容
4. 模型训练功能：给定模型训练的批次，轮次，学习率等参数发起训练任务

普通用户使用用户名密码登录，服务端签发Token，通过Token调用API。

图片上传到某路径下，每用户一个文件夹，文件名对应数据库中全局唯一的主键。文件名生成：用户ID、当前时间戳、文件Hash
标定数据在数据库中每条一个数据。

模型数据类似，每用户一个文件夹，每个模型一个zip文件，DL4J格式。文件名：用户ID、时间戳。
模型在数据库中存储创建时的信息，时间、训练参数等。

### 特权用户
系统管理功能，能够查询所有用户的数据。

特权用户需要对请求体进行签名进行鉴权。

特权用户仅提供基础的管理功能，诸如图片、用户、模型管理（增删改查），不提供图片上传、模型训练等功能。

### 环境配置
读取YAML文件作为环境配置。

## 数据库实体

### User

| 用户ID | 用户名 | 密码 | 
| :----: | :----: | :----: |
| integer  | varchar(50) | varchar(50) |
| 非空、主键、唯一、自增  | 唯一、非空 | 非空 |

初始化SQL：
```sql

```

### PictureTag

| TagID | FileName | 所属用户Id | 标定数据 | 
| :----: | :----: | :----: | :----: |
| integer  | varchar(50) | varchar(50) | text |
| 非空、主键、唯一、自增  | 非空 | 非空 | 非空 |

初始化SQL：
```sql

```

### ModelInfo

| ModelID | FileName | 所属用户Id | 创建信息 | 训练状态 |
| :----: | :----: | :----: | :----: | :----: |
| integer  | varchar(50) | varchar(50) | text | varchar(50) |
| 非空、主键、唯一、自增  | 非空 | 非空 | 非空 | 非空 |

初始化SQL：
```sql

```

## API说明